#!/usr/bin/perl

use strict;
use warnings;
use File::Basename;
use Term::ANSIColor ;


my @files;
my $argc = @ARGV;
my $commits;
my $len;
my $clear;

$clear = `clear`;

sub heading {
    print "\n";
    printf "  %-45s %-10s %s\n","file", "commits", "active days";
    print "\n";
}
sub active_days {

}

sub effort {
    my $file;
    my $f_dot;
    my $dot = '.';  
    foreach $file (@files) {
        $commits= `git log --oneline $file | wc -l`;
        $len = length($file);

        $f_dot = $file;
        foreach  ($len .. 48) {
            $f_dot .= $dot;
        }
        printf "  %s %-10d \n",$f_dot, $commits;
    }

}



if ($argc >= 1) {
    @files = @ARGV;
} else {
    @files = `git ls-files`;
}

chomp(@files);
print $clear;

print color 'red';
&heading;
print color 'reset';

print color 'green';
&effort;
print color 'reset';

