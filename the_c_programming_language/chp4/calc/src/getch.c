/******************************************************************************

  Copyright (C), 2001-2013, DCN Co., Ltd.

 ******************************************************************************
  File Name     : getch.c
  Version       : Initial Draft
  Author        : huajie.wu
  Created       : 2013/3/8
  Last Modified :
  Description   : getch
  Function List :
  History       :
  1.Date        : 2013/3/8
    Author      : huajie.wu
    Modification: Created file

******************************************************************************/

#include <stdio.h>

/*----------------------------------------------*
 * external variables                           *
 *----------------------------------------------*/

/*----------------------------------------------*
 * external routine prototypes                  *
 *----------------------------------------------*/

/*----------------------------------------------*
 * internal routine prototypes                  *
 *----------------------------------------------*/

/*----------------------------------------------*
 * project-wide global variables                *
 *----------------------------------------------*/

/*----------------------------------------------*
 * module-wide global variables                 *
 *----------------------------------------------*/

/*----------------------------------------------*
 * constants                                    *
 *----------------------------------------------*/

/*----------------------------------------------*
 * macros                                       *
 *----------------------------------------------*/

#define BUFSIZE 100

/*----------------------------------------------*
 * routines' implementations                    *
 *----------------------------------------------*/


char buf[BUFSIZE];
int bufp = 0;

int
getch(void)
{
	return ( bufp>0 ) ?buf[--bufp]:getchar();

}

void
ungetch(int c)
{
	if (bufp >= BUFSIZE)
		printf("ungetch: too many characters \n");
	else
		buf[bufp++] = c;
}



